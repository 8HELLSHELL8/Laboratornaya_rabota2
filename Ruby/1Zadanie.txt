def min_operations(input_string)
  # Получаем длину входной строки
  n = input_string.length
  # Создаем массив для хранения минимального количества операций для каждого индекса
  dp = Array.new(n + 1, 0)
  # Создаем хэш-таблицу для хранения последнего вхождения каждого символа
  last_occurrence = {}	

  # Проходим по каждому символу входной строки
  (1..n).each do |i|
    # Инициализируем dp[i] как dp[i-1] + 1, предполагая, что необходимо добавить один символ
    dp[i] = dp[i - 1] + 1

    # Если последнее вхождение текущего символа существует в хэш-таблице
    if last_occurrence.key?(input_string[i - 1])
      # Обновляем dp[i] как минимум между текущим dp[i] и dp последнего вхождения символа + 1
      dp[i] = [dp[i], dp[last_occurrence[input_string[i - 1]]] + 1].min
    end

    # Обновляем хэш-таблицу последнего вхождения текущего символа
    last_occurrence[input_string[i - 1]] = i
  end
  
  # Возвращаем минимальное количество операций для всей строки
  return dp[n]
end

# Выводим приглашение пользователю ввести строку
print "Введите строку: "
# Получаем ввод пользователя и убираем лишние символы (перенос стро-ки)
input_string = gets.chomp
# Вызываем функцию и выводим результат
puts "Минимальное количество операций: #{min_operations(input_string)}"