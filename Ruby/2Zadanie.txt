def count_matches(n)
  matches = 0
  # Пока число команд больше 1
  while n > 1
    # Если число команд четное
    if n.even?
      # Добавляем к числу матчей половину числа команд
      matches += n / 2
      # Уменьшаем число команд вдвое
      n /= 2
    else
      # Если число команд нечетное, добавляем к числу матчей половину числа команд минус одна
      matches += (n - 1) / 2
      # Уменьшаем число команд на единицу, а затем делим его на два и прибавляем один, чтобы получить новое число команд
      n = (n - 1) / 2 + 1
    end
  end
  # Возвращаем общее количество матчей
  return matches
end

# Пример использования:
puts "Введите количество команд:"
n = gets.chomp.to_i
puts "Количество сыгранных матчей: #{count_matches(n)}"

